{% extends "layout.html" %}
{% block content %}
	{% with messages = get_flashed_messages(with_categories=true) %}
		{% if messages %}
			{% for categories, message in messages %}
            	<div class="alert alert-{{ categories }} alert-dismissible fade show" role="alert">
  					{{ message }}
					<button type="button" class="close" data-dismiss="alert" aria-label="Close">
						<span aria-hidden="true">&times;</span>
  					</button>
				</div>
			{% endfor %}
		{% endif %}
	{% endwith %}
	<div class="container-sm shadow bg-white rounded p-3" id="RegisterForm">
		<form method="POST" action="">
			{{ form.hidden_tag() }}
  			<div class="form-group">
  			  	<label for="email">Email</label>
  			  	{% if form.email.errors %}
				{{ form.email(class="form-control is-invalid") }}
				<div class="invalid-feedback">
					{% for error in form.email.errors %}
					<span>{{ error }}</span>
					{% endfor %}
				</div>
				{% else %}
  			  	{{ form.email(class="form-control", id="email") }}
				{% endif %}
  			  	<label for="username">Username</label>
  			  	{% if form.username.errors %}
				{{ form.username(class="form-control is-invalid") }}
				<div class="invalid-feedback">
					{% for error in form.username.errors %}
					<span>{{ error }}</span>
					{% endfor %}
				</div>
				{% else %}
				{{ form.username(class="form-control") }}
				{% endif %}
  			  	<label for="pwd">Password</label>
				{% if form.password.errors %}
				{{ form.password(class="form-control is-invalid") }}
				<div class="invalid-feedback">
					{% for error in form.password.errors %}
					<span>{{ error }}</span>
					{% endfor %}
				</div>
				{% else %}
				{{ form.password(class="form-control") }}
				{% endif %}
  			  	<label for="confirm_pwd">Confirm password</label>
				{% if form.confirm_password.errors %}
				{{ form.confirm_password(class="form-control is-invalid") }}
				<div class="invalid-feedback">
					{% for error in form.confirm_password.errors %}
					<span>{{ error }}</span>
					{% endfor %}
				</div>
				{% else %}
				{{ form.confirm_password(class="form-control") }}
				{% endif %}
				<br>
				{{ form.submit(class="btn btn-primary", type="submit") }}
  			</div>
		</form>
	</div>
{% endblock %}